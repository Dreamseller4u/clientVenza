{"ast":null,"code":"var _jsxFileName = \"/Users/macbookair/Documents/Webapps/react-crm/client/src/components/Admin/Booking/CreateNewBooking/CreateBookingForm.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { reduxForm, Field } from 'redux-form';\nimport { InputField } from '../../../common/FormControl/InputField';\nimport { required } from '../../../../utils/Validator/validators';\nimport { DatePickerCustom } from '../../../common/FormControl/DatePickerCustom';\nimport Preloder from '../../../common/Preloder/preloder';\nimport AsyncSelectCustom from '../../../common/FormControl/AsyncSelectCustom';\nimport { connect } from 'react-redux';\nimport { SelecField } from '../../../common/FormControl/SelectField';\nimport { MDBContainer, MDBBtn, MDBModal, MDBModalBody, MDBModalHeader, MDBModalFooter } from 'mdbreact';\nimport Camera from './camera';\n\nconst CreateBookingForm1 = props => {\n  const [inputValue, setInputValue] = useState('');\n  const [deposit, setDeposit] = useState('');\n  const [price, setPrice] = useState('');\n  const [totalDays, setTotalDays] = useState('');\n  const [termRental, setTermRental] = useState('');\n  const [alreadyPaid, setAlreadyPaid] = useState('0');\n  const [payOnArriva, setPayOnArrival] = useState('');\n  const [startDate, setStartDate] = useState(new Date());\n  const [endDate, setEndDate] = useState(new Date().setDate(startDate.getDate() + 3));\n  const [modal, setModal] = useState(false);\n  let fuel = [{\n    name: 'full'\n  }, {\n    name: '1/2'\n  }, {\n    name: '1/3'\n  }, {\n    name: 'empty'\n  }];\n  let helmets = [{\n    name: 'none'\n  }, {\n    name: '1'\n  }, {\n    name: '2'\n  }, {\n    name: '3'\n  }];\n  useEffect(() => {\n    setTotalDays(Math.floor((endDate - startDate) / 1000 / 60 / 60 / 24));\n  }, [endDate, startDate]);\n  useEffect(() => {\n    setTermRental(price * totalDays);\n  }, [price, totalDays]);\n  useEffect(() => {\n    setPayOnArrival(termRental - alreadyPaid);\n  }, [alreadyPaid, termRental]); ///////////////////////////////////////////////////////////\n\n  let opt = [];\n\n  if (props.bikes) {\n    let arr = props.bikes.map(b => ({\n      label: b.brand + ' ' + b.model + ' ' + b.plateNumber,\n      brand: b.brand,\n      plateNumber: b.plateNumber,\n      model: b.model,\n      cost: b.cost,\n      value: b._id,\n      price: b.pricePerDay,\n      deposit: b.deposit\n    }));\n    opt.push(arr);\n  }\n\n  const filterColors = inputValue => {\n    return opt[0].filter(i => i.label.toLowerCase().includes(inputValue.toLowerCase()));\n  };\n\n  let loadOptions = (inputValue, callback) => {\n    callback(filterColors(inputValue));\n  }; ///////////////////////////////////////////////////////////\n\n\n  let handleInputChange = e => {\n    setPrice(e.price);\n    setDeposit(e.deposit);\n  };\n\n  let handleChangeStartDate = e => {\n    setStartDate(e);\n  };\n\n  let handleChangeEndDate = e => {\n    setEndDate(e);\n  };\n\n  let onChangePrice = e => {\n    setPrice(e.target.value);\n  };\n\n  let onChangeAlreadyPaid = e => {\n    setAlreadyPaid(e.target.value);\n  };\n\n  let onChangeDeposit = e => {\n    setDeposit(e.target.value);\n  };\n\n  let onChangeTermRental = e => {\n    setTermRental(e.target.value);\n  };\n\n  const toggle = () => {\n    setModal(!modal);\n  };\n\n  if (opt.length <= 0) {\n    return /*#__PURE__*/React.createElement(Preloder, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 16\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: props.handleSubmit,\n    className: \"col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 25\n    }\n  }, \"Cusrtomer info \"), /*#__PURE__*/React.createElement(Field, {\n    component: InputField,\n    name: \"name\",\n    placeholder: \"Customer Name\",\n    validate: required,\n    width: \"sm-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Field, {\n    component: InputField,\n    name: \"passport\",\n    placeholder: \"Passport No.\",\n    validate: required,\n    width: \"sm-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Field, {\n    component: InputField,\n    name: \"address\",\n    placeholder: \"Address\",\n    validate: required,\n    width: \"sm-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Field, {\n    component: InputField,\n    name: \"phone\",\n    placeholder: \"Phone Number\",\n    validate: required,\n    width: \"sm-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 25\n    }\n  }, \"Choose a bike\"), /*#__PURE__*/React.createElement(Field, {\n    component: AsyncSelectCustom,\n    name: \"bike\",\n    validate: required,\n    loadOptions: loadOptions,\n    onChange: handleInputChange,\n    cacheOptions: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 25\n    }\n  }, \"Helmets and Fuel\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-field col s4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Field, {\n    component: SelecField,\n    label: \"Helmets\",\n    initVal: \"Choose helmets\",\n    selectValues: helmets,\n    name: \"helmets\",\n    validate: [required],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-field col s4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Field, {\n    component: SelecField,\n    label: \"Fuel\",\n    initVal: \"Choose gas\",\n    selectValues: fuel,\n    name: \"gas\",\n    validate: [required],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 25\n    }\n  }, \"Choose a date\"), /*#__PURE__*/React.createElement(Field, {\n    component: DatePickerCustom,\n    curDate: startDate,\n    name: \"startDate\",\n    label: \"Start Date\",\n    validate: [required],\n    onChange: handleChangeStartDate,\n    width: \"s6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Field, {\n    component: DatePickerCustom,\n    curDate: endDate,\n    name: \"endDate\",\n    label: \"End Date\",\n    validate: [required],\n    onChange: handleChangeEndDate,\n    width: \"s6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 25\n    }\n  }, \"Payment\"), /*#__PURE__*/React.createElement(Field, {\n    component: InputField,\n    name: \"pricePerDay\",\n    eValue: price,\n    onChange: onChangePrice,\n    placeholder: \"Price per Day\",\n    validate: required,\n    width: \"sm-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Field, {\n    component: InputField,\n    name: \"totalDays\",\n    eValue: totalDays,\n    placeholder: \"Total Days\",\n    validate: required,\n    width: \"sm-4 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Field, {\n    component: InputField,\n    name: \"alreadyPaid\",\n    eValue: alreadyPaid,\n    onChange: onChangeAlreadyPaid,\n    placeholder: \"Already paid\",\n    validate: required,\n    width: \"sm-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Field, {\n    component: InputField,\n    name: \"payOnArrival\",\n    eValue: payOnArriva,\n    placeholder: \"Pay On Arrival\",\n    validate: required,\n    width: \"sm-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Field, {\n    component: InputField,\n    name: \"deposit\",\n    eValue: deposit,\n    onChange: onChangeDeposit,\n    placeholder: \"Deposit\",\n    validate: required,\n    width: \"sm-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Field, {\n    component: InputField,\n    name: \"termRental\",\n    eValue: termRental,\n    onChange: onChangeTermRental,\n    placeholder: \"Term Rental\",\n    validate: required,\n    width: \"sm-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn green white-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 25\n    }\n  }, \"Create New Booking \"), /*#__PURE__*/React.createElement(MDBBtn, {\n    color: \"amber\",\n    onClick: toggle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 25\n    }\n  }, \"Input passport photo \")), /*#__PURE__*/React.createElement(MDBContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(MDBModal, {\n    isOpen: modal,\n    toggle: toggle,\n    size: \"fluid\",\n    backdrop: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(MDBModalBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Camera, {\n    setPhoto: props.setPhoto,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(MDBModalFooter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(MDBBtn, {\n    color: \"secondary\",\n    onClick: toggle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 25\n    }\n  }, \"Close\"))))));\n};\n\nexport default connect(null, null)(reduxForm({\n  form: 'craetBooking'\n})(CreateBookingForm1));","map":{"version":3,"sources":["/Users/macbookair/Documents/Webapps/react-crm/client/src/components/Admin/Booking/CreateNewBooking/CreateBookingForm.jsx"],"names":["React","useState","useEffect","reduxForm","Field","InputField","required","DatePickerCustom","Preloder","AsyncSelectCustom","connect","SelecField","MDBContainer","MDBBtn","MDBModal","MDBModalBody","MDBModalHeader","MDBModalFooter","Camera","CreateBookingForm1","props","inputValue","setInputValue","deposit","setDeposit","price","setPrice","totalDays","setTotalDays","termRental","setTermRental","alreadyPaid","setAlreadyPaid","payOnArriva","setPayOnArrival","startDate","setStartDate","Date","endDate","setEndDate","setDate","getDate","modal","setModal","fuel","name","helmets","Math","floor","opt","bikes","arr","map","b","label","brand","model","plateNumber","cost","value","_id","pricePerDay","push","filterColors","filter","i","toLowerCase","includes","loadOptions","callback","handleInputChange","e","handleChangeStartDate","handleChangeEndDate","onChangePrice","target","onChangeAlreadyPaid","onChangeDeposit","onChangeTermRental","toggle","length","handleSubmit","setPhoto","form"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { reduxForm, Field } from 'redux-form';\nimport { InputField } from '../../../common/FormControl/InputField';\nimport { required } from '../../../../utils/Validator/validators';\nimport { DatePickerCustom } from '../../../common/FormControl/DatePickerCustom';\nimport Preloder from '../../../common/Preloder/preloder'\nimport AsyncSelectCustom from '../../../common/FormControl/AsyncSelectCustom';\nimport { connect } from 'react-redux'\nimport { SelecField } from '../../../common/FormControl/SelectField';\nimport { MDBContainer, MDBBtn, MDBModal, MDBModalBody, MDBModalHeader, MDBModalFooter } from 'mdbreact';\nimport Camera from './camera'\n\nconst CreateBookingForm1 = (props) => {\n    const [inputValue, setInputValue] = useState('')\n    const [deposit, setDeposit] = useState('')\n    const [price, setPrice] = useState('')\n    const [totalDays, setTotalDays] = useState('')\n    const [termRental, setTermRental] = useState('')\n    const [alreadyPaid, setAlreadyPaid] = useState('0')\n    const [payOnArriva, setPayOnArrival] = useState('')\n    const [startDate, setStartDate] = useState(new Date())\n    const [endDate, setEndDate] = useState(new Date().setDate(startDate.getDate() + 3))\n    const [modal, setModal] = useState(false)\n\n\n    let fuel = [{name:'full'},{name:'1/2'},{name:'1/3'},{name:'empty'}]\n    let helmets = [{name:'none'},{name:'1'},{name:'2'},{name:'3'}]\n\n    useEffect(() => {\n        setTotalDays(Math.floor((endDate - startDate) / 1000 / 60 / 60 / 24))\n    }, [endDate, startDate]);\n\n    useEffect(() => {\n        setTermRental(price * totalDays)\n    }, [price, totalDays]);\n     useEffect(() => {\n        setPayOnArrival(termRental - alreadyPaid)\n    }, [alreadyPaid, termRental]);\n\n    ///////////////////////////////////////////////////////////\n    let opt = []\n    if (props.bikes) {\n        let arr = props.bikes.map(b => ({ label: b.brand + ' ' + b.model + ' ' + b.plateNumber, \n        brand:b.brand, plateNumber:b.plateNumber, model:b.model ,cost:b.cost , \n        value: b._id, price: b.pricePerDay, deposit: b.deposit }))\n        opt.push(arr)\n    }\n    const filterColors = (inputValue) => {\n        return opt[0].filter(i =>\n            i.label.toLowerCase().includes(inputValue.toLowerCase())\n        );\n    };\n    let loadOptions = (inputValue, callback) => {\n        callback(filterColors(inputValue))\n    }\n    ///////////////////////////////////////////////////////////\n\n    let handleInputChange = (e) => {\n        setPrice( e.price)\n        setDeposit(e.deposit)\n    }\n\n    let handleChangeStartDate = (e) => {\n        setStartDate(e)\n    }\n    let handleChangeEndDate = (e) => {\n        setEndDate(e)\n    }\n    let onChangePrice = (e)=>{\n        setPrice(e.target.value)\n    }\n    let onChangeAlreadyPaid = (e)=>{\n        setAlreadyPaid(e.target.value)\n    }\n    let onChangeDeposit = (e)=>{\n        setDeposit(e.target.value)\n    }\n    let onChangeTermRental = (e)=>{\n        setTermRental(e.target.value)\n    }\n    const toggle =()=>{\n        setModal(!modal)\n    }\n    if (opt.length <= 0) {\n        return <Preloder />\n    }\n    \n    return (\n        <div className=\"row\">\n            <form onSubmit={props.handleSubmit}  className=\"col-12\">\n                    <div className=\"row\">\n                        <p className=\"col-12\">Cusrtomer info </p>\n                        <Field component={InputField} name='name'  placeholder='Customer Name' validate={required} width='sm-3' />\n                        <Field component={InputField} name='passport' placeholder='Passport No.' validate={required} width='sm-3' />\n                        <Field component={InputField} name='address' placeholder='Address' validate={required} width='sm-3' />\n                        <Field component={InputField} name='phone' placeholder='Phone Number' validate={required} width='sm-3' />\n                    </div>\n                    <div className=\"row\">\n                        <p className=\"col-12\">Choose a bike</p>\n                        <Field component={AsyncSelectCustom} name='bike'\n                            validate={required}\n                            loadOptions={loadOptions}\n                            onChange={handleInputChange}\n                            cacheOptions\n                        />\n                    </div>\n                    <div className=\"row\">\n                        <p className=\"col-12\">Helmets and Fuel</p>\n                        <div className=\"input-field col s4\">\n                            <Field component={SelecField} label='Helmets' initVal='Choose helmets' selectValues={helmets} name='helmets' validate={[required]} />\n                        </div>\n                        <div className=\"input-field col s4\">\n                            <Field component={SelecField}  label='Fuel' initVal='Choose gas' selectValues={fuel} name='gas' validate={[required]} />\n                        </div>\n                     </div>\n\n                    <div className=\"row\">\n                        <p className=\"col-12\">Choose a date</p>\n                        <Field component={DatePickerCustom} curDate={startDate} name='startDate' label='Start Date' validate={[required]} onChange={handleChangeStartDate} width='s6' />\n                        <Field component={DatePickerCustom} curDate={endDate} name='endDate' label='End Date' validate={[required]} onChange={handleChangeEndDate} width='s6' />\n                    </div>\n\n                    <div className=\"row\">\n                        <p className=\"col-12\">Payment</p>\n                        <Field component={InputField} name='pricePerDay'   eValue={price} onChange={onChangePrice} placeholder='Price per Day' validate={required} width='sm-4' />\n                        <Field component={InputField} name='totalDays'     eValue={totalDays} placeholder='Total Days' validate={required} width='sm-4 ' />\n                        <Field component={InputField} name='alreadyPaid'   eValue={alreadyPaid} onChange={onChangeAlreadyPaid} placeholder='Already paid' validate={required} width='sm-4' />\n                        <Field component={InputField} name='payOnArrival'  eValue={payOnArriva}  placeholder='Pay On Arrival' validate={required} width='sm-4' />\n                        <Field component={InputField} name='deposit'       eValue={deposit} onChange={onChangeDeposit} placeholder='Deposit' validate={required} width='sm-4' />\n                        <Field component={InputField} name='termRental'    eValue={termRental} onChange={onChangeTermRental} placeholder='Term Rental' validate={required} width='sm-4' />\n                    </div>\n                    <div className='row'>\n                        <button className='btn green white-text'>Create New Booking </button>\n                        <MDBBtn color='amber' onClick={toggle}>Input passport photo </MDBBtn>\n                    </div>\n                    <MDBContainer >\n                    <MDBModal isOpen={modal} toggle={toggle} size=\"fluid\" backdrop={true}>\n                        <MDBModalBody >\n                            <Camera setPhoto={props.setPhoto}/>\n                        </MDBModalBody>\n                        <MDBModalFooter>\n                        <MDBBtn color=\"secondary\" onClick={toggle}>Close</MDBBtn>\n                        </MDBModalFooter>\n                    </MDBModal>\n                    </MDBContainer>\n\n                \n            </form>\n        </div>\n    )\n}\nexport default connect(null,null)(reduxForm({\n     form: 'craetBooking'\n  })(CreateBookingForm1))"]},"metadata":{},"sourceType":"module"}