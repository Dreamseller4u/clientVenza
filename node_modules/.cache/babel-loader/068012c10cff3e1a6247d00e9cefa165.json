{"ast":null,"code":"var _jsxFileName = \"/Users/macbookair/Documents/Webapps/react-crm/client/src/components/Admin/Booking/Booking.jsx\";\nimport React from 'react';\nimport Preloder from '../../common/Preloder/preloder';\nimport BookingModal from './BookingModal';\nimport format from 'date-format';\nimport { MDBContainer, MDBBtn, MDBModal, MDBModalBody, MDBModalHeader, MDBModalFooter } from 'mdbreact';\nimport { useState } from 'react';\nimport { MDBDataTableV5, MDBIcon } from 'mdbreact';\nimport { NavLink } from 'react-router-dom';\n\nconst Booking = props => {\n  const deleteBookingHundler = id => {\n    props.deleteBookingThunk(id);\n  };\n\n  const [type, setType] = useState('confirmed');\n  const [modal, setModal] = useState(false);\n  const [modal2, setModal2] = useState(false);\n  const [content, setContent] = useState(null);\n\n  const toggle = cont => {\n    setModal(!modal);\n\n    if (cont) {\n      setContent(cont);\n    }\n  };\n\n  const toggle2 = () => {\n    setModal2(!modal2);\n  };\n\n  const setPhotoToUpdate = (id, passportImg, visaImg) => {\n    const data = {\n      id,\n      passportImg,\n      visaImg\n    };\n    props.updatePhotoPass(data);\n  };\n\n  if (!props.booking) {\n    return /*#__PURE__*/React.createElement(Preloder, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 16\n      }\n    });\n  }\n\n  const data = {\n    columns: [{\n      label: 'Name',\n      field: 'name',\n      sort: 'asc',\n      width: 150\n    }, {\n      label: 'Address',\n      field: 'address',\n      sort: 'asc',\n      width: 270\n    }, {\n      label: 'Bike',\n      field: 'bike',\n      sort: 'asc',\n      width: 200\n    }, {\n      label: 'Plate Number',\n      field: 'plateNumber',\n      sort: 'asc',\n      width: 100\n    }, {\n      label: 'Start Date',\n      field: 'startDate',\n      sort: 'asc',\n      width: 150\n    }, {\n      label: 'Finish Date',\n      field: 'endDate',\n      sort: 'asc',\n      width: 100\n    }, {\n      label: '',\n      field: 'buttons',\n      sort: 'asc',\n      width: 200\n    }],\n    rows: props.booking.map(b => type === 'confirmed' ? b.confirmed ? {\n      name: b.name,\n      address: b.address,\n      bike: b.brand + ' ' + b.model,\n      plateNumber: b.plateNumber,\n      startDate: format('dd.MM.yyyy', new Date(b.startDate)),\n      endDate: format('dd.MM.yyyy', new Date(b.endDate)),\n      buttons: /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(MDBIcon, {\n        onClick: () => toggle(b),\n        className: \" mr-3\",\n        size: \"lg\",\n        far: true,\n        icon: \"address-card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 26\n        }\n      }), /*#__PURE__*/React.createElement(MDBIcon, {\n        onClick: () => deleteBookingHundler(b._id),\n        className: \"red-text mr-3\",\n        size: \"lg\",\n        far: true,\n        icon: \"trash-alt\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }\n      }))\n    } : '' : !b.confirmed ? {\n      name: b.name,\n      address: b.address,\n      bike: b.brand + ' ' + b.model,\n      plateNumber: b.plateNumber,\n      startDate: format('dd.MM.yyyy', new Date(b.startDate)),\n      endDate: format('dd.MM.yyyy', new Date(b.endDate)),\n      buttons: /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 14\n        }\n      }, /*#__PURE__*/React.createElement(MDBIcon, {\n        onClick: () => toggle(b),\n        className: \" mr-3\",\n        size: \"lg\",\n        far: true,\n        icon: \"address-card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(MDBIcon, {\n        onClick: () => deleteBookingHundler(b._id),\n        className: \"red-text mr-3\",\n        size: \"lg\",\n        far: true,\n        icon: \"trash-alt\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 14\n        }\n      }))\n    } : '')\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MDBContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MDBModal, {\n    isOpen: modal2,\n    toggle: () => toggle2(),\n    fullHeight: true,\n    position: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(MDBModalBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    to: \"/backend/booking/create\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(MDBBtn, {\n    className: \"col 12\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 19\n    }\n  }, \"Add new booking\")), /*#__PURE__*/React.createElement(MDBBtn, {\n    className: \"col 12\",\n    color: \"primary\",\n    onClick: () => setType('confirmed'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 15\n    }\n  }, \"Confirmed Bookings\"), /*#__PURE__*/React.createElement(MDBBtn, {\n    className: \"col 12\",\n    color: \"primary\",\n    onClick: () => setType(''),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 15\n    }\n  }, \"Customers Bookings\")), /*#__PURE__*/React.createElement(MDBModalFooter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(MDBBtn, {\n    color: \"secondary\",\n    onClick: () => toggle2(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 15\n    }\n  }, \"Close\")))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }\n  }, type === 'confirmed' ? /*#__PURE__*/React.createElement(\"h3\", {\n    onClick: () => toggle2(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }, \"Confirmed booking\") : /*#__PURE__*/React.createElement(\"h3\", {\n    onClick: () => toggle2(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 11\n    }\n  }, \"New not confirmed booking\")), /*#__PURE__*/React.createElement(MDBDataTableV5, {\n    hover: true,\n    searchTop: true,\n    sortable: false,\n    searchBottom: false,\n    data: data,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(MDBContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MDBModal, {\n    isOpen: modal,\n    toggle: toggle,\n    size: \"fluid\",\n    backdrop: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MDBModalHeader, {\n    toggle: toggle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 10\n    }\n  }, \"Contract\"), /*#__PURE__*/React.createElement(MDBModalBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(BookingModal, {\n    bee: content,\n    update: props.updateBookingThunk,\n    setPhotoToUpdate: setPhotoToUpdate,\n    confirm: props.confirmBookingThunk,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(MDBModalFooter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(MDBBtn, {\n    color: \"secondary\",\n    onClick: toggle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }\n  }, \"Close\")))));\n};\n\nexport default Booking;","map":{"version":3,"sources":["/Users/macbookair/Documents/Webapps/react-crm/client/src/components/Admin/Booking/Booking.jsx"],"names":["React","Preloder","BookingModal","format","MDBContainer","MDBBtn","MDBModal","MDBModalBody","MDBModalHeader","MDBModalFooter","useState","MDBDataTableV5","MDBIcon","NavLink","Booking","props","deleteBookingHundler","id","deleteBookingThunk","type","setType","modal","setModal","modal2","setModal2","content","setContent","toggle","cont","toggle2","setPhotoToUpdate","passportImg","visaImg","data","updatePhotoPass","booking","columns","label","field","sort","width","rows","map","b","confirmed","name","address","bike","brand","model","plateNumber","startDate","Date","endDate","buttons","_id","textAlign","updateBookingThunk","confirmBookingThunk"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Preloder from '../../common/Preloder/preloder'\nimport BookingModal from './BookingModal'\nimport format from 'date-format'\nimport { MDBContainer, MDBBtn, MDBModal, MDBModalBody, MDBModalHeader, MDBModalFooter } from 'mdbreact';\nimport { useState } from 'react'\nimport { MDBDataTableV5, MDBIcon } from 'mdbreact';\nimport { NavLink } from 'react-router-dom';\n\nconst Booking = (props) => {\n    const deleteBookingHundler = (id) => {\n        props.deleteBookingThunk(id)\n    }\n    const [type, setType] = useState('confirmed')\n    const[modal, setModal] = useState(false)\n    const[modal2, setModal2] = useState(false)\n    const [content, setContent] = useState(null)\n    const toggle = (cont) => {\n        setModal(!modal)\n        if(cont){\n            setContent(cont)\n        }\n    }\n    const toggle2 = () => {\n      setModal2(!modal2)\n  }\n  const  setPhotoToUpdate = (id, passportImg,visaImg) =>  {\n     const data = {id ,passportImg, visaImg}\n     props.updatePhotoPass(data)\n    }\n    if (!props.booking) {\n        return <Preloder />\n    }\n   \n    const data = {\n        columns: [\n          {\n            label: 'Name',\n            field: 'name',\n            sort: 'asc',\n            width: 150\n          },\n          {\n            label: 'Address',\n            field: 'address',\n            sort: 'asc',\n            width: 270\n          },\n          {\n            label: 'Bike',\n            field: 'bike',\n            sort: 'asc',\n            width: 200\n          },\n          {\n            label: 'Plate Number',\n            field: 'plateNumber',\n            sort: 'asc',\n            width: 100\n          },\n          {\n            label: 'Start Date',\n            field: 'startDate',\n            sort: 'asc',\n            width: 150\n          },\n          {\n            label: 'Finish Date',\n            field: 'endDate',\n            sort: 'asc',\n            width: 100\n          },\n          {\n            label: '',\n            field: 'buttons',\n            sort: 'asc',\n            width: 200\n          }\n        ],\n        rows: props.booking.map(b => (\n          (type === 'confirmed') ? \n          ((b.confirmed) ? {name: b.name, address:b.address, bike:b.brand + ' ' + b.model, plateNumber:b.plateNumber, \n            startDate:format('dd.MM.yyyy',new Date(b.startDate)), endDate:format('dd.MM.yyyy',new Date(b.endDate)),\n            buttons:<div><MDBIcon  onClick={()=>toggle(b)} className=\" mr-3\" size='lg' far icon=\"address-card\" />\n                    <MDBIcon  onClick={()=>deleteBookingHundler(b._id)} className=\"red-text mr-3\" size='lg' far icon=\"trash-alt\" />\n                    </div>\n     } : '')\n     : ((!b.confirmed) ? {name: b.name, address:b.address, bike:b.brand + ' ' + b.model, plateNumber:b.plateNumber, \n     startDate:format('dd.MM.yyyy',new Date(b.startDate)), endDate:format('dd.MM.yyyy',new Date(b.endDate)),\n     buttons:<div><MDBIcon  onClick={()=>toggle(b)} className=\" mr-3\" size='lg' far icon=\"address-card\" />\n             <MDBIcon  onClick={()=>deleteBookingHundler(b._id)} className=\"red-text mr-3\" size='lg' far icon=\"trash-alt\" />\n             </div>\n} : ''))\n     \n     )\n      };\n    return (\n        <>\n        <MDBContainer> \n          <MDBModal isOpen={modal2} toggle={()=>toggle2()} fullHeight position=\"right\">\n            <MDBModalBody>\n              <NavLink to='/backend/booking/create'>\n                  <MDBBtn className='col 12' color=\"primary\">Add new booking</MDBBtn>\n              </NavLink>\n              <MDBBtn  className='col 12' color=\"primary\" onClick={()=>setType('confirmed')}>Confirmed Bookings</MDBBtn>\n              <MDBBtn  className='col 12' color=\"primary\" onClick={()=>setType('')}>Customers Bookings</MDBBtn>\n            </MDBModalBody>\n            <MDBModalFooter>\n              <MDBBtn color=\"secondary\" onClick={()=>toggle2()}>Close</MDBBtn>\n            </MDBModalFooter>\n          </MDBModal>\n        </MDBContainer>\n      \n        <div style={{textAlign: 'center'}}>\n          {(type === 'confirmed') \n        ? <h3 onClick={()=>toggle2()}>Confirmed booking</h3>\n        : <h3 onClick={()=>toggle2()}>New not confirmed booking</h3> }\n        </div>\n        <MDBDataTableV5 hover searchTop  sortable={false} searchBottom={false} data={data}  />\n        <MDBContainer >\n        <MDBModal isOpen={modal} toggle={toggle} size=\"fluid\" backdrop={true}>\n         <MDBModalHeader toggle={toggle}>Contract</MDBModalHeader>\n            <MDBModalBody >\n              <BookingModal bee={content} update={props.updateBookingThunk} setPhotoToUpdate={setPhotoToUpdate}\n               confirm={props.confirmBookingThunk}/>\n            </MDBModalBody>\n            <MDBModalFooter>\n            <MDBBtn color=\"secondary\" onClick={toggle}>Close</MDBBtn>\n            </MDBModalFooter>\n        </MDBModal>\n        </MDBContainer>\n      </>\n    )\n}\n\nexport default Booking\n"]},"metadata":{},"sourceType":"module"}