{"ast":null,"code":"import { getBookingList, addNewBooking, deleteBooking, updateBooking, confirmBooking, updatePhoto } from \"../api/bookingAPI\";\nconst GET_BOOKING = 'GET_BOOKING';\nconst DELETE_BOOKING = 'DELETE_BOOKING';\nlet initsialState = {\n  bookingList: null\n};\n\nconst bookingReducer = (state = initsialState, action) => {\n  switch (action.type) {\n    case GET_BOOKING:\n      return { ...state,\n        bookingList: action.bookinList\n      };\n\n    case DELETE_BOOKING:\n      let bookArr = [...state.bookingList];\n\n      for (let i = 0; i <= bookArr.length; i++) {\n        if (bookArr[i]) {\n          bookArr[i]._id === action.id ? bookArr.splice(i, 1) : console.log(bookArr);\n        }\n      }\n\n      return { ...state,\n        bookingList: bookArr\n      };\n\n    default:\n      return state;\n  }\n}; /// Dispatch\n\n\nconst getBooking = bookinList => {\n  return {\n    type: GET_BOOKING,\n    bookinList\n  };\n};\n\nconst deleteBookingAC = id => {\n  return {\n    type: DELETE_BOOKING,\n    id\n  };\n}; /// Thunk\n\n\nexport const getBookingThunk = () => {\n  return dispatch => {\n    getBookingList().then(res => dispatch(getBooking(res)));\n  };\n};\nexport const addNewBookinThunk = booking => {\n  return dispatch => {\n    addNewBooking(booking).then(res => alert(res.data.message));\n  };\n};\nexport const deleteBookingThunk = bookingId => {\n  return dispatch => {\n    deleteBooking(bookingId).then(res => res.data.code === 1 ? dispatch(deleteBookingAC(bookingId)) : alert(res.data.message));\n  };\n};\nexport const confirmBookingThunk = id => {\n  return dispatch => {\n    confirmBooking(id).then(getBookingList().then(res => dispatch(getBooking(res))) && alert('Booking confirmed succsess'));\n  };\n};\nexport const updateBookingThunk = data => {\n  return dispatch => {\n    updateBooking(data).then(res => alert(res.data.message));\n  };\n};\nexport const updatePhotoPass = data => {\n  return dispatch => {\n    updatePhoto(data).then(res => alert(res.data.message));\n  };\n};\nexport default bookingReducer;","map":{"version":3,"sources":["/Users/macbookair/Documents/Webapps/react-crm/client/src/redux/bookingReducer.js"],"names":["getBookingList","addNewBooking","deleteBooking","updateBooking","confirmBooking","updatePhoto","GET_BOOKING","DELETE_BOOKING","initsialState","bookingList","bookingReducer","state","action","type","bookinList","bookArr","i","length","_id","id","splice","console","log","getBooking","deleteBookingAC","getBookingThunk","dispatch","then","res","addNewBookinThunk","booking","alert","data","message","deleteBookingThunk","bookingId","code","confirmBookingThunk","updateBookingThunk","updatePhotoPass"],"mappings":"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","sourcesContent":["import { getBookingList, addNewBooking, deleteBooking, updateBooking, confirmBooking,updatePhoto } from \"../api/bookingAPI\";\n\nconst GET_BOOKING = 'GET_BOOKING'\nconst DELETE_BOOKING = 'DELETE_BOOKING'\n\n\n\nlet initsialState = {\n    bookingList: null\n\n};\n\nconst bookingReducer = (state = initsialState, action) => {\n    switch (action.type) {\n        case GET_BOOKING:\n            return{\n                ...state,\n                bookingList: action.bookinList\n            }\n        case DELETE_BOOKING:\n            let bookArr = [...state.bookingList]\n            for (let i = 0; i <= bookArr.length; i++) {\n                if (bookArr[i]) {\n                    (bookArr[i]._id === action.id) ? bookArr.splice(i, 1) : console.log(bookArr)\n                }\n            } \n            return {\n                ...state,\n                bookingList: bookArr\n            }\n        default: return state;\n    }\n}\n/// Dispatch\nconst getBooking = (bookinList) => {return {type:GET_BOOKING, bookinList}}\nconst deleteBookingAC = (id) => { return { type: DELETE_BOOKING, id } }\n\n\n/// Thunk\nexport const getBookingThunk = () => {\n    return (dispatch)=>{\n        getBookingList().then(res => \n            dispatch(getBooking(res)))\n    }\n}\n\nexport const addNewBookinThunk =(booking) => {\n    return (dispatch)=>{\n        addNewBooking(booking).then(res => alert(res.data.message))\n    }\n}\n\nexport const deleteBookingThunk = (bookingId) => {\n    return (dispatch) => {\n        deleteBooking(bookingId).then(res =>\n            (res.data.code === 1)\n            ? dispatch(deleteBookingAC(bookingId))\n            : alert(res.data.message)\n            )\n    } \n}\nexport const confirmBookingThunk = (id) => {\n    return (dispatch)=> {\n        confirmBooking(id).then(getBookingList().then(res => \n            dispatch(getBooking(res))) && alert('Booking confirmed succsess'))\n    }\n}\nexport const updateBookingThunk = (data) =>{\n    return (dispatch) => {\n        updateBooking(data).then(res => alert(res.data.message))\n    }\n}\nexport const updatePhotoPass = (data) => {\n    return (dispatch) => {\n        updatePhoto(data).then(res => alert(res.data.message))\n    }\n} \n\n\n\nexport default bookingReducer;"]},"metadata":{},"sourceType":"module"}